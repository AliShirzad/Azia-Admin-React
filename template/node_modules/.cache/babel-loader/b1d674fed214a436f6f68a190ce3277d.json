{"ast":null,"code":"import React, { useState } from 'react';\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nvar getNavStyles = function getNavStyles(indx, length) {\n  var styles = [];\n\n  for (var i = 0; i < length; i++) {\n    if (i < indx) {\n      styles.push('done');\n    } else if (i === indx) {\n      styles.push('doing');\n    } else {\n      styles.push('todo');\n    }\n  }\n\n  return styles;\n};\n\nvar getButtonsState = function getButtonsState(indx, length) {\n  if (indx > 0 && indx < length - 1) {\n    return {\n      showPreviousBtn: true,\n      showNextBtn: true\n    };\n  } else if (indx === 0) {\n    return {\n      showPreviousBtn: false,\n      showNextBtn: true\n    };\n  } else {\n    return {\n      showPreviousBtn: true,\n      showNextBtn: false\n    };\n  }\n};\n\nfunction MultiStep(props) {\n  var _useState = useState(getNavStyles(0, props.steps.length)),\n      _useState2 = _slicedToArray(_useState, 2),\n      stylesState = _useState2[0],\n      setStyles = _useState2[1];\n\n  var _useState3 = useState(0),\n      _useState4 = _slicedToArray(_useState3, 2),\n      compState = _useState4[0],\n      setComp = _useState4[1];\n\n  var _useState5 = useState(getButtonsState(0, props.steps.length)),\n      _useState6 = _slicedToArray(_useState5, 2),\n      buttonsState = _useState6[0],\n      setButtons = _useState6[1];\n\n  function setStepState(indx) {\n    setStyles(getNavStyles(indx, props.steps.length));\n    setComp(indx < props.steps.length ? indx : compState);\n    setButtons(getButtonsState(indx, props.steps.length));\n  }\n\n  var next = function next() {\n    return setStepState(compState + 1);\n  };\n\n  var previous = function previous() {\n    return setStepState(compState > 0 ? compState - 1 : compState);\n  };\n\n  var handleKeyDown = function handleKeyDown(evt) {\n    return evt.which === 13 ? next(props.steps.length) : {};\n  };\n\n  var handleOnClick = function handleOnClick(evt) {\n    if (evt.currentTarget.value === props.steps.length - 1 && compState === props.steps.length - 1) {\n      setStepState(props.steps.length);\n    } else {\n      setStepState(evt.currentTarget.value);\n    }\n  };\n\n  var renderSteps = function renderSteps() {\n    return props.steps.map(function (s, i) {\n      return React.createElement(\"li\", {\n        className: 'progtrckr-' + stylesState[i],\n        onClick: handleOnClick,\n        key: i,\n        value: i\n      }, React.createElement(\"em\", null, i + 1), React.createElement(\"span\", null, props.steps[i].name));\n    });\n  };\n\n  return React.createElement(\"div\", {\n    className: \"container\",\n    onKeyDown: handleKeyDown\n  }, React.createElement(\"ol\", {\n    className: \"progtrckr\"\n  }, renderSteps()), props.steps[compState].component, React.createElement(\"div\", {\n    style: props.showNavigation ? {} : {\n      display: 'none'\n    }\n  }, React.createElement(\"button\", {\n    style: buttonsState.showPreviousBtn ? {} : {\n      display: 'none'\n    },\n    onClick: previous\n  }, \"Previous\"), React.createElement(\"button\", {\n    style: buttonsState.showNextBtn ? {} : {\n      display: 'none'\n    },\n    onClick: next\n  }, \"Next\")));\n}\n\nMultiStep.defaultProps = {\n  showNavigation: true\n};\nexport default MultiStep;","map":{"version":3,"sources":["../index.js"],"names":["getNavStyles","styles","i","getButtonsState","indx","length","showPreviousBtn","showNextBtn","stylesState","setStyles","useState","props","compState","setComp","buttonsState","setButtons","next","setStepState","previous","handleKeyDown","evt","handleOnClick","renderSteps","display","MultiStep","showNavigation"],"mappings":"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","sourcesContent":["\"use strict\";\n\nimport React, {useState} from 'react'\n\nconst getNavStyles = (indx, length) => {\n  let styles = []\n  for (let i = 0; i < length; i++) {\n    if (i < indx) {\n      styles.push('done')\n    } else if (i === indx) {\n      styles.push('doing')\n    } else {\n      styles.push('todo')\n    }\n  }\n  return styles\n}\n\nconst getButtonsState = (indx, length) => {\n  if (indx > 0 && indx < length - 1) {\n    return {\n      showPreviousBtn: true,\n      showNextBtn: true\n    }\n  } else if (indx === 0) {\n    return {\n      showPreviousBtn: false,\n      showNextBtn: true\n    }\n  } else {\n    return {\n      showPreviousBtn: true,\n      showNextBtn: false\n    }\n  }\n}\n\nexport default function MultiStep(props) {\n  const [stylesState, setStyles] = useState(getNavStyles(0, props.steps.length))\n  const [compState, setComp] = useState(0)\n  const [buttonsState, setButtons] = useState(getButtonsState(0, props.steps.length))\n  \n  function setStepState(indx) {\n    setStyles(getNavStyles(indx, props.steps.length))\n    setComp(indx < props.steps.length? indx : compState)\n    setButtons(getButtonsState(indx, props.steps.length))\n  }\n\n  const next = () => setStepState(compState + 1)\n  \n  const previous = () => setStepState((compState > 0) ? compState - 1 : compState)\n\n  const handleKeyDown = (evt) => evt.which === 13 ? next(props.steps.length) : {}\n\n  const handleOnClick = (evt) => {\n    if (evt.currentTarget.value === props.steps.length - 1 && compState === props.steps.length - 1) {\n      setStepState(props.steps.length)\n    } else {\n      setStepState(evt.currentTarget.value)\n    }\n  }\n\n  const renderSteps = () => \n    props.steps.map((s, i) => (\n      <li\n        className={'progtrckr-' + stylesState[i]}\n        onClick={handleOnClick}\n        key={i}\n        value={i}\n      >\n        <em>{i + 1}</em>\n        <span>{props.steps[i].name}</span>\n      </li>\n    ))\n\n  return (\n      <div className='container' onKeyDown={handleKeyDown}>\n        <ol className='progtrckr'>\n          {renderSteps()}\n        </ol>\n        {props.steps[compState].component}\n        <div style={props.showNavigation ? {} : { display: 'none' }}>\n          <button\n            style={buttonsState.showPreviousBtn ? {} : { display: 'none' }}\n            onClick={previous}\n          >\n            Previous\n          </button>\n\n          <button\n            style={buttonsState.showNextBtn ? {} : { display: 'none' }}\n            onClick={next}\n          >\n            Next\n          </button>\n        </div>\n      </div>\n  )\n}\n\nMultiStep.defaultProps = {\n  showNavigation: true\n}\n"]},"metadata":{},"sourceType":"module"}